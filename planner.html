<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Multi-Project Planner</title>
  <!-- Removed AdSense for compliance -->
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; background:#f4f7fa; margin:0; padding:0 0 60px; color:#222; }
    header, main, footer { max-width: 1100px; margin: 0 auto; padding: 16px; }
    h1 { text-align:center; margin: 24px 0 8px; }
    .intro, .guide, .features, .example, .faq { background:#fff; border:1px solid #e5e7eb; border-radius:10px; padding:16px; margin:12px 0; }
    .intro h2, .guide h2, .features h2, .example h2, .faq h2 { margin-top:0; }
    .two-col { display:grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    @media (max-width: 760px){ .two-col { grid-template-columns: 1fr; } }

    /* Planner app existing styles (untouched where possible) */
    #projectControls { text-align:center; margin: 16px 0; }
    select, input, button, textarea { margin:5px; padding:10px; font-size:16px; }
    #toggleFormBtn { background:#3498db; color:#fff; border:none; border-radius:5px; cursor:pointer; }
    #projectForm { display:none; }
    .project-grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 12px; margin-top: 8px; }
    .project-card { background:#fff; border:1px solid #e5e7eb; border-radius:10px; padding:12px; box-shadow: 0 1px 2px rgba(0,0,0,.03); }
    .project-card h2 { margin:6px 0 4px; font-size:18px; }
    .task-item { padding:6px 8px; background:#fafafa; border:1px solid #eee; border-radius:6px; margin:6px 0; }
    .task-item.priority-high { border-color:#e74c3c; }
    .task-item.priority-medium { border-color:#f39c12; }
    .task-item.priority-low { border-color:#2ecc71; }
    .delete-btn { background:#e74c3c; color:white; border:none; padding:6px 10px; border-radius:5px; cursor:pointer; }

    footer.site-footer { position:relative; background:#0f172a; color:#e5e7eb; margin-top: 16px; padding: 20px 16px; border-top: 4px solid #111827; border-radius: 8px 8px 0 0; }
    footer.site-footer a { color:#93c5fd; }
  </style>
</head>
<body>
  <header>
    <h1>Multi-Project Planner</h1>
  </header>

  <!-- New Introduction section -->
  <section class="intro" aria-labelledby="intro-title">
    <h2 id="intro-title">Plan multiple projects privately and efficiently</h2>
    <p>Multi-Project Planner is a lightweight, privacy-first organizer designed for students, solo builders, and busy professionals who need to juggle several projects at once. Your projects and tasks are stored locally in your browser by default—no accounts, tracking pixels, or external databases required.</p>
    <div class="two-col">
      <p><strong>Who is it for?</strong> Students tracking courses and assignments, indie developers managing sprints, freelancers balancing client work, and anyone who wants a fast, simple planner that respects privacy.</p>
      <p><strong>Privacy-first design:</strong> Data stays on your device unless you export it yourself. You can back up and restore with a JSON file at any time.</p>
    </div>
  </section>

  <!-- How to Use -->
  <section class="guide" aria-labelledby="howto-title">
    <h2 id="howto-title">How to Use</h2>
    <ol>
      <li>Click “Add Project” and enter a name, short description, and optional deadline.</li>
      <li>Open a project card and use “+ Add Task” to add tasks with a priority (low/medium/high).</li>
      <li>Check a task to mark it done; uncheck to reopen. Use “Delete” to remove tasks or projects.</li>
      <li>Use “Export” to download a backup JSON of your projects. Keep it safe.</li>
      <li>Use “Import” to restore from a JSON file on the same or another device.</li>
    </ol>
  </section>

  <!-- Features -->
  <section class="features" aria-labelledby="features-title">
    <h2 id="features-title">Features</h2>
    <ul>
      <li>Multi-project dashboard with clean, responsive layout</li>
      <li>Per-task priority and quick done/undo toggles</li>
      <li>Optional project deadlines with clear labels</li>
      <li>Local-first storage with manual Import/Export</li>
      <li>No registration, no analytics, no ads</li>
      <li>Works offline after first load on most modern browsers</li>
    </ul>
  </section>

  <!-- Use Case Example -->
  <section class="example" aria-labelledby="example-title">
    <h2 id="example-title">Use Case Example: Priya, a university student</h2>
    <p>Priya studies Computer Science and balances 4 courses, a club project, and internship prep. She creates a project for each course—“DSA,” “Operating Systems,” “DBMS,” and “Maths”—plus “Robotics Club” and “Interview Prep.” Inside each, she adds tasks like “HW3 – Graphs (high),” “Lab report draft (medium),” and “Revise mutexes (low).” As deadlines approach, Priya reviews project cards, checks off completed items, and exports a weekly backup JSON to keep her data portable across devices.</p>
  </section>

  <!-- FAQ -->
  <section class="faq" aria-labelledby="faq-title">
    <h2 id="faq-title">FAQ</h2>
    <details>
      <summary>Do I need to register or create an account?</summary>
      <p>No. The planner works without accounts. Everything is local to your browser unless you export it.</p>
    </details>
    <details>
      <summary>How is my privacy protected?</summary>
      <p>The app does not send your data to any server and includes no analytics or advertising scripts. You control your data via local storage, export, and import.</p>
    </details>
    <details>
      <summary>Does it work offline?</summary>
      <p>Yes, after the first load it will continue to work offline for existing data. Import/Export requires selecting a file, which also works offline.</p>
    </details>
  </section>

  <!-- Existing planner controls and app markup (keep IDs used by the script) -->
  <main>
    <div id="projectControls">
      <button id="toggleFormBtn" type="button">Add Project</button>
      <button id="exportBtn" type="button">Export</button>
      <label for="importInput" style="display:inline-block;">
        <input id="importInput" type="file" accept="application/json" style="display:none" />
        <span style="background:#10b981;color:#fff;border-radius:5px;padding:8px 12px;cursor:pointer;">Import</span>
      </label>
    </div>

    <form id="projectForm" autocomplete="off">
      <input id="projectName" type="text" placeholder="Project name" required />
      <input id="projectDeadline" type="date" />
      <textarea id="projectDesc" rows="2" placeholder="Short description (optional)"></textarea>
      <button id="saveProjectBtn" type="submit">Save Project</button>
    </form>

    <div id="projectsContainer" class="project-grid"></div>
  </main>

  <footer class="site-footer" role="contentinfo">
    <p><strong>Privacy Notice:</strong> This planner is local-first and does not collect, share, or transmit your data. No analytics or advertising scripts are loaded. You may export your data to a JSON file and import it later. If you publish a fork with third‑party scripts, disclose them clearly.</p>
  </footer>

  <!-- Existing JavaScript logic for the planner (preserved functionality) -->
  <script>
  (function(){
    // Local storage key
    const STORAGE_KEY = 'planner-projects-v1';

    // State
    let projects = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');

    // Elements
    const toggleFormBtn = document.getElementById('toggleFormBtn');
    const projectForm = document.getElementById('projectForm');
    const projectName = document.getElementById('projectName');
    const projectDeadline = document.getElementById('projectDeadline');
    const projectDesc = document.getElementById('projectDesc');
    const saveProjectBtn = document.getElementById('saveProjectBtn');
    const projectsContainer = document.getElementById('projectsContainer');
    const exportBtn = document.getElementById('exportBtn');
    const importInput = document.getElementById('importInput');

    // Persistence
    function saveProjects(){
      localStorage.setItem(STORAGE_KEY, JSON.stringify(projects));
    }

    // UI behaviors
    toggleFormBtn.addEventListener('click', () => {
      projectForm.style.display = projectForm.style.display === 'none' || projectForm.style.display === '' ? 'block' : 'none';
    });

    projectForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const name = (projectName.value || '').trim();
      if(!name) return;
      const desc = (projectDesc.value || '').trim();
      const deadline = projectDeadline.value || '';
      const id = Date.now();
      projects.push({ id, name, desc, deadline, tasks: [] });
      saveProjects();
      projectForm.reset();
      projectForm.style.display = 'none';
      renderProjects();
    });

    exportBtn.addEventListener('click', exportData);
    importInput.addEventListener('change', importData);

    // Rendering
    function renderProjects(){
      projectsContainer.innerHTML = '';
      if(!projects.length){
        const empty = document.createElement('p');
        empty.textContent = 'No projects yet. Add your first project to get started!';
        empty.style.textAlign = 'center';
        empty.style.color = '#6b7280';
        projectsContainer.appendChild(empty);
        return;
      }

      projects.forEach(project => {
        const card = document.createElement('div');
        card.className = 'project-card';
        card.innerHTML = `
          <h2>${project.name}</h2>
          <p>${project.desc || ''}</p>
          <p>Deadline: ${project.deadline || 'No deadline'}</p>
          <button onclick="addTask(${project.id})">+ Add Task</button>
          <button class="delete-btn" onclick="deleteProject(${project.id})">Delete Project</button>
          <div>
            ${project.tasks.map(task => `
              <div class="task-item priority-${task.priority}" style="${task.done ? 'text-decoration: line-through;' : ''}">
                <input type="checkbox" ${task.done ? 'checked' : ''} onchange="toggleTask(${project.id}, ${task.id})" />
                ${task.name} (${task.priority})
                <button onclick="deleteTask(${project.id}, ${task.id})" style="float:right;background:#e74c3c;color:white;border:none;padding:2px 5px;border-radius:3px;cursor:pointer;">Delete</button>
              </div>
            `).join('')}
          </div>
        `;
        projectsContainer.appendChild(card);
      });
    }

    // Exports
    function exportData(){
      const dataStr = JSON.stringify(projects, null, 2);
      const blob = new Blob([dataStr], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'projects-backup.json';
      a.click();
      URL.revokeObjectURL(url);
    }

    // Imports
    function importData(event){
      const file = event.target.files[0];
      if(!file) return;
      const reader = new FileReader();
      reader.onload = (e) => {
        try {
          projects = JSON.parse(e.target.result);
          saveProjects();
          renderProjects();
          alert('Data imported successfully!');
        } catch(err){
          alert('Error importing data: ' + err.message);
        }
      };
      reader.readAsText(file);
      // reset input to allow re-importing same file if needed
      event.target.value = '';
    }

    // Global functions for inline handlers (kept for minimal changes)
    window.addTask = function(projectId){
      const name = prompt('Task name');
      if(!name) return;
      const priority = (prompt('Priority: low, medium, or high') || 'low').toLowerCase();
      const project = projects.find(p => p.id === projectId);
      if(!project) return;
      const id = Date.now();
      project.tasks.push({ id, name, priority: ['low','medium','high'].includes(priority) ? priority : 'low', done:false });
      saveProjects();
      renderProjects();
    }

    window.toggleTask = function(projectId, taskId){
      const project = projects.find(p => p.id === projectId);
      if(!project) return;
      const task = project.tasks.find(t => t.id === taskId);
      if(!task) return;
      task.done = !task.done;
      saveProjects();
      renderProjects();
    }

    window.deleteTask = function(projectId, taskId){
      const project = projects.find(p => p.id === projectId);
      if(!project) return;
      project.tasks = project.tasks.filter(t => t.id !== taskId);
      saveProjects();
      renderProjects();
    }

    window.deleteProject = function(projectId){
      if(!confirm('Delete this project and all its tasks?')) return;
      projects = projects.filter(p => p.id !== projectId);
      saveProjects();
      renderProjects();
    }

    // Initial render
    renderProjects();
  })();
  </script>
</body>
</html>
